package HandleMap
	
	
	// a map from handles to Ts 
	public class HandleMap<V>
		static private hashtable ht = InitHashtable()
		
		function put(handle h, V data)
			ht.save(this castTo int, GetHandleId(h), data castTo int)
			
		function get(handle h) returns V
			return ht.loadInt(this castTo int, GetHandleId(h)) castTo V

		function flush()
			FlushChildHashtable(ht, this castTo int)

		ondestroy
			this.flush()
endpackage